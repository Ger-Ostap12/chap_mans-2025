# üöó Route Optimization System

–°–∏—Å—Ç–µ–º–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ANN –º–æ–¥–µ–ª–∏, TomTom API –∏ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üß† **–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏**

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `unified_route_system.py` | **–ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å** - ANN –º–æ–¥–µ–ª—å + TomTom API + –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| `location_detector.py` | **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è** - GPS, IP, –∞–¥—Ä–µ—Å–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `api_endpoint.py` | **FastAPI —Å–µ—Ä–≤–µ—Ä** - REST API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π |
| `test_unified_system.py` | **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã |

### üîî **–°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `time_monitor.py` | **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏** - —Ç—Ä–∏–≥–≥–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π |
| `notification_system.py` | **–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - Telegram API, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π |

### üîß **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏**

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `route_optimizer.py` | **–ë–∞–∑–æ–≤—ã–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä** - –º–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ |
| `real_distance_analyzer.py` | **–ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TomTom API |
| `tomtom_diagnostics.py` | **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ API** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ TomTom |
| `train_model.py` | **–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏** - —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ ANN –Ω–∞ NYC –¥–∞–Ω–Ω—ã—Ö |
| `integrated_trainer.py` | **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä** - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ |

### üìä **–î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `DATA (2).txt` | **–ö–ª–∏–µ–Ω—Ç—ã** - 47 –∫–ª–∏–µ–Ω—Ç–æ–≤ –†–æ—Å—Ç–æ–≤–∞-–Ω–∞-–î–æ–Ω—É —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ |
| `requirements.txt` | **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - Python –ø–∞–∫–µ—Ç—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ |
| `frontend_example.js` | **–ü—Ä–∏–º–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** - JavaScript –∫–æ–¥ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ |

### üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `README.md` | **–û—Å–Ω–æ–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** - –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç |
| `ARCHITECTURE.md` | **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –±—ç–∫–µ–Ω–¥–µ—Ä–æ–≤ |
| `API_DOCUMENTATION.md` | **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –≤—Å–µ endpoints –∏ –ø—Ä–∏–º–µ—Ä—ã |
| `DEPLOYMENT.md` | **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é |
| `DATA_STRUCTURE.md` | **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** - –º–æ–¥–µ–ª–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—ã |

### üéØ **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

- ‚úÖ **ANN –º–æ–¥–µ–ª—å** - –æ–±—É—á–µ–Ω–∞ –Ω–∞ NYC –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ **TomTom API** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, —Ç—Ä–∞—Ñ–∏–∫, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **–ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –¥–Ω—è–º
- ‚úÖ **VIP –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã** - —É—á–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞** - —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã –∏ –æ–±–µ–¥–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ä—ã–≤—ã
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç** - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è** - GPS, IP, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥
- ‚úÖ **REST API** - –≥–æ—Ç–æ–≤—ã–µ endpoints –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- ‚úÖ **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –æ–ø–æ–∑–¥–∞–Ω–∏—è, —Ç—Ä–∞—Ñ–∏–∫
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π
```bash
export TOMTOM_API_KEY="your_tomtom_api_key_here"
export BOT_TOKEN="your_telegram_bot_token_here"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
```

### 3. –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
```bash
python api_endpoint.py
# –∏–ª–∏
uvicorn api_endpoint:app --reload
```

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
python test_unified_system.py
```

## üì° API Endpoints

### üöó **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/optimize_routes` | POST | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ |
| `/optimize_routes_from_location` | POST | –ú–∞—Ä—à—Ä—É—Ç—ã –æ—Ç –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/recalculate_routes` | POST | –ü–µ—Ä–µ—Å—á–µ—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –Ω–æ–≤–æ–≥–æ –º–µ—Å—Ç–∞ |
| `/mark_visited` | POST | –û—Ç–º–µ—Ç–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∫–∞–∫ –ø–æ—Å–µ—â–µ–Ω–Ω–æ–≥–æ |

### üìç **–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ**
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/set_location` | POST | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è (GPS/IP/–∞–¥—Ä–µ—Å) |
| `/update_location` | POST | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è (—Å –∫–∞—Ä—Ç—ã) |
| `/location_suggestions` | GET | –ü–æ–∏—Å–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∞–¥—Ä–µ—Å–æ–≤ |
| `/current_location` | GET | –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
| Endpoint | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| `/register_telegram_user` | POST | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram |
| `/add_route_notifications` | POST | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞ |
| `/check_delays` | POST | –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–æ–∑–¥–∞–Ω–∏–π |
| `/check_traffic_changes` | POST | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫–∞ |
| `/notification_status` | GET | –°—Ç–∞—Ç—É—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
python test_unified_system.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
python location_detector.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
python time_monitor.py
python notification_system.py

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ TomTom API
python tomtom_diagnostics.py
```

## üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º

–°–º. `frontend_example.js` –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API.

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **TomTom API Key**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `TOMTOM_API_KEY`
- **Telegram Bot Token**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `BOT_TOKEN` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ú–æ–¥–µ–ª—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è `best_unified_model.pth`
- **–î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤**: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `DATA (2).txt`

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Frontend (JavaScript)
    ‚Üì
FastAPI Server (api_endpoint.py)
    ‚Üì
UnifiedRouteSystem (unified_route_system.py)
    ‚Üì
‚îú‚îÄ‚îÄ ANN Model (–æ–±—É—á–µ–Ω–∞ –Ω–∞ NYC –¥–∞–Ω–Ω—ã—Ö)
‚îú‚îÄ‚îÄ TomTom API (—Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
‚îú‚îÄ‚îÄ LocationDetector (GPS/IP/–∞–¥—Ä–µ—Å)
‚îú‚îÄ‚îÄ TimeMonitor (—Ç—Ä–∏–≥–≥–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
‚îî‚îÄ‚îÄ NotificationSystem (Telegram API)
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

- `UnifiedRouteSystem` - –≥–ª–∞–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- `AttentionRouteOptimizer` - ANN –º–æ–¥–µ–ª—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `LocationDetector` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- `TimeMonitor` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã
- `NotificationSystem` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `Client` - –º–æ–¥–µ–ª—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏
- `ClientLevel` - VIP/–°—Ç–∞–Ω–¥–∞—Ä—Ç —Å—Ç–∞—Ç—É—Å –∫–ª–∏–µ–Ω—Ç–∞
- `UserSettings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **47 –∫–ª–∏–µ–Ω—Ç–æ–≤** - –ø–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ 7 –¥–Ω–µ–π
- **–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è** - TomTom API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç** - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è
- **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏** - 30-—Å–µ–∫—É–Ω–¥–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
